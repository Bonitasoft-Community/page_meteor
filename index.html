<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Meteor</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="style/animate.css" />
<link rel="stylesheet" href="style/bootstrap.min.css">
<link rel="stylesheet" href="style/main.css">
<link rel="stylesheet" href="style/style.css">
<link rel="stylesheet" href="style/dropbox.css">
<link rel="stylesheet" href="style/ng-modal.css">




<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript"
	src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;hl=fr&amp;packages=corechart&amp;async=2"></script>
<link type="text/css" href="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/ui+fr.css"
	rel="stylesheet">
<script type="text/javascript"
	src="https://www.google.com/uds/api/visualization/1.0/ff67c3772da186a412ae3231c32409e9/format+fr,default+fr,ui+fr,corechart+fr.I.js"></script>
<link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/core/tooltip.css" rel="stylesheet" type="text/css">

<style>
.Loading {
	display: inline-block;
	vertical-align: middle;
	background-position: center;
	background: no-repeat;
	background-image:
		url('data:image/gif;base64,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');
	width: 20px;
	height: 20px;
	margin-top: 6px;
	margin-right: 7px;
}
</style>
</head>


<!--  Page Directory: @_PAGEDIRECTORY_@ -->


<body ng-app="meteormonitor">
	<div class="bs-component" ng-controller="TitleController as titlectrl">
		<center>
			<table>
				<tr>
					<td><h1>Meteor</h1></td>
					<td rowspan="2"><img src="img/meteor.jpg" width="150"
						heigth="150" /></td>
				</tr>
				<tr>
					<td style="font-size: 0.8em"><a href="" ng-click="titlectrl.showhistory( ! titlectrl.isshowhistory )">V3.0</a></td>
				</tr>
				<tr>
					<td>
						<div id="showHistory" ng-show="titlectrl.isshowhistory"
							style="border-width: 2px; border-style: ridge; border-color: blue">
							1.0 First version<br>
							2.0 Contract proposition and transformation, Cover result calculation
							2.1 Update for 7.7x
							3.0 Experience scenario
					</td>
				</tr>
				</div>
			</table>
		</center>
	</div>

	<div class="container-fluid" id="accordion">

		<div class="col-xs-12">
			<div class="bs-component" ng-controller="MeteorControler as meteorctrl">
						

				<modal-dialog show='meteorctrl.isshowExportDialog' dialog-title='Export' width='75%' height='80%' 	close="meteorctrl.isshowExportDialog=false"> 
					<div class="modal-content" width='100%' height='100%'>
						<h2>Export configuration</h2>
						<p>
						<p>
						<table class="table">
							<tr>
							 
								<th><button ng-click="meteorctrl.selectAll(meteorctrl.config.list)" class="btn btn-info btn-xs">Select all</button>Configuration</th>
							</tr>
							<tr ng-repeat="oneconf in meteorctrl.config.list">
								<td><input type="checkbox" ng-model="oneconf.selected"></input>{{oneconf.name}}</td>
							</tr>
							</table>
						<p>
						<a class="btn btn-info" href="?page=custompage_meteor&action=exportconf&paramjson={{meteorctrl.getExportConfiguration()}}" >Export</a> 
					
					</div>
				</modal-dialog>
		
		<!-- 	
			<div>
  				testChar={{meteorctrl.testChart}}
					<div google-chart chart="{{meteorctrl.testChart}}"  style="height: 400px; width: 100%; position: relative; "></div>
			</div>
		
		 -->
				<legend class="text-primary">
					<span class="glyphicon glyphicon-th"></span>
						<a href="#" ng-click="meteorctrl.showmainscenarii = ! meteorctrl.showmainscenarii" style="text-decoration:none">					
			  				<span ng-show="meteorctrl.showmainscenarii" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
		  				</a>
						<a href="#" ng-click="meteorctrl.showmainscenarii = ! meteorctrl.showmainscenarii" style="text-decoration:none">					
							<span ng-show="! meteorctrl.showmainscenarii" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
						</a> Scenarii
			  	
					
				</legend>
				<div class="panel panel-primary" ng-show="meteorctrl.showmainscenarii">
					
					<table width="100%">
						<tr>
							<td align="center"><span ng-show="meteorctrl.wait"> 
								<span class="Loading">.</span> Collect in progress...
								</span>
								
								<button id="collectbtn" ng-click="meteorctrl.getListArtefacts()" class="btn btn-info" ng-disabled="meteorctrl.wait">Collect
									informations</button> {{meteorctrl.status}}

								<div ng-bind-html="meteorctrl.getListEvents(meteorctrl.listeventslistprocesses )"></div></td>
							<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
							<td width="900">
								<div class="panel panel-primary">
									<div class="panel-heading">
										<h3 class="panel-title">Saved configurations</h3>
									</div>
									<div class="panel-body">
										<table width="100%" style="border:3px">
											<tr>
												<td>Configuration name : <input ng-model="meteorctrl.config.newname" maxlength="30"/>
													<button ng-click="meteorctrl.saveConfig()" class="btn btn-success" ng-disabled="meteorctrl.wait">Save</button><br>
													
													
												</td><td colspan="2">
													<select ng-model="meteorctrl.config.currentname" style="width: 150px;">
														<option ng-repeat="oneconf in meteorctrl.config.list" value="{{oneconf.name}}">{{oneconf.name}}</option>
													</select>
												</td>
											</tr><tr>
												<td>
													<textarea ng-model="meteorctrl.config.newdescription" cols="50" rows="5"></textarea><br>
													<input type="checkbox" ng-model="meteorctrl.showRestApiCall">Show RestCall</input>
													<div ng-show="meteorctrl.showRestApiCall">
														Start :<br><span class="explanation">/bonita/portal/custom-page/custompage_meteor?page=custompage_meteor&amp;action=loadandstart&amp;scenario={{meteorctrl.config.newname}}</span> <br>
														Status:<br><span class="explanation">/bonita/portal/custom-page/custompage_meteor?page=custompage_meteor&amp;action=status&amp;simulationid=&lt;simulationId&gt;</span>
													</div>
												</td>
												<td>
													<button ng-click="meteorctrl.loadConfig()" class="btn btn-info" ng-disabled="meteor.config.list.length==0 || meteorctrl.wait">Load</button>
												</td><td>
													<button ng-click="meteorctrl.loadAndStartConfig()" class="btn btn-primary" ng-disabled="meteor.config.list.length==0 || meteorctrl.wait">Load And Start</button>
												</td><td>
													<button ng-click="meteorctrl.deleteConfig()" class="btn btn-danger" ng-disabled="(! meteorctrl.config.currentname) || meteorctrl.wait">Delete&nbsp;{{meteorctrl.config.currentname}}</button></td>
												</td>
											</tr>
											<tr><td coldspan="3">	
												<span ng-show="meteorctrl.wait"> <span class="Loading">.</span> Operation in progress {{meteorctrl.listUrlPercent}}%...</span>
												</td>
											</tr>
											<tr><td coldspan="3">
													<div ng-bind-html="meteorctrl.getListEvents( meteorctrl.listeventsconfig )"></div>
												</td>
												<td>
													<button ng-click="meteorctrl.isshowExportDialog=true" class="btn btn-primary" ng-disabled="meteor.config.list.length==0 || meteorctrl.wait">Export</button>													
												</td><td colspan="2">
													<div ng-file-drop ng-model="importfiles" class="drop-box ng-isolate-scope ng-valid ng-dirty"
														drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}"
														multiple="true" allow-dir="false">Drop your saved scenario zip to be upload here</div>
													<div ng-no-file-drop class="drop-box" style="display: none;">File Drop is not supported for this browser</div>													
												</td>			
											</tr>											
										</table>
									</div>
								</div>
							</td>
						</tr>

					</table>

					<h3>
						<a href="#" ng-click="meteorctrl.showprocess = ! meteorctrl.showprocess" style="text-decoration:none">					
			  				<span ng-show="meteorctrl.showprocess" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
		  				</a>
						<a href="#" ng-click="meteorctrl.showprocess = ! meteorctrl.showprocess" style="text-decoration:none">					
							<span ng-show="! meteorctrl.showprocess" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
						</a>		
			  			Processes
					</h3>
					<div ng-show="meteorctrl.showprocess">
						<input type="checkbox" ng-model="meteorctrl.showonlyactive">Show only actives robot</input>
						<!-- style="background-color: #f9f9f9;" -->
						<table class="table table-striped table-hover table-condensed">
							<tr>
								<th style="background-color: #f2dede; text-align: center;">Name</th>
								<th style="background-color: #f2dede; text-align: center;"><span title="number or robots to start">Robots</span></th>
								<th style="background-color: #f2dede; text-align: center;" colspan="2"><span title="number of execution (cases or tasks) PER robots">exec/rob</span></th>
								<th style="background-color: #f2dede; text-align: center;"><span title="Time to sleep before the start">Delay start (ms)</span></th>
								<th style="background-color: #f2dede; text-align: center;"><span title="Time to sleep between each execution, in millisecond">sleep (ms)</span></th>
								<th style="background-color: #f2dede; text-align: center;">Contract</th>
							</tr>
							<tbody ng-repeat="processinfo in meteorctrl.processes track by $index">
								<tr style="background-color: ##D9EDF7;border-width: 1px 1px" ng-show="! meteorctrl.showonlyactive  || processinfo.nbrob>0">
									<td style="background-color: #D9EDF7;border-width: 1px 1px"><span title="Process name and version">{{processinfo.information}}</span></td>
									<td style="background-color: #D9EDF7;border-width: 1px 1px;text-align: center;"><input type="number"
										ng-model="processinfo.nbrob" style="text-align: right; width: 80px;"
										title="The number of robot simulate multiple create IN PARRALLELE because robots runs undependably"></td>
									<td style="background-color: #D9EDF7; text-align: center;">
										<input type="number" ng-model="processinfo.nbcases" style="text-align: right; width: 80px;"	title="Attention, the number of case created will be Nb robots*nbCases"></td>
									<td style="background-color: #D9EDF7; text-align: right;width: 80px">({{processinfo.nbrob*processinfo.nbcases}})</td>
									<td style="background-color: #D9EDF7; text-align: center">
										<input type="number" ng-model="processinfo.delaysleep" style="text-align: right; width: 80px;" title="Before start, robots will sleep this time (in ms)"></td>
									<td style="background-color: #D9EDF7; text-align: center">
										<input type="number" ng-model="processinfo.timesleep" style="text-align: right; width: 80px;" title="Between each creation, robots will sleep this time (in ms)"></td>
									<td style="background-color: #D9EDF7; text-align: center;">
										<table>
											<tr ng-repeat="input in processinfo.inputs track by $index">
												<td>
													<input type="number" ng-model="input.percent" style="text-align: right; width: 80px;">%
												</td>
												<td>
													<table>
														<tr><td>
															<button ng-click="meteorctrl.formatInput( processinfo, input)" class="btn btn-info btn-xs" style="width: 100%;">Format</button>
														</td></tr>														
														<tr><td>
															<textarea cols="70" rows="5" ng-model="input.content"></textarea>
														</td></tr>
														<tr><td>
															<button ng-click="meteorctrl.proposeInput( processinfo, input)" class="btn btn-default btn-xs" style="width: 100%;">Propose</button>
														</td></tr>														
													</table>
												</td>
												<td>
													<button ng-click="meteorctrl.removeInput( processinfo, input) " class="btn btn-danger btn-xs">Remove</button>
												</td>
											</tr>
										</table>
										<button ng-click="meteorctrl.addInput( processinfo )" class="btn btn-info btn-xs">Add</button>
									</td>
								</tr>
								<tr ng-repeat="activityinfo in processinfo.activities track by $index"
									ng-show="! meteorctrl.showonlyactive  || activityinfo.nbrob>0" style="border-width: 1px 1px">
									<td style="background-color: #fcf8e3">&nbsp;&nbsp;{{activityinfo.activityname}}</td>
									<td style="background-color: #fcf8e3; text-align: center;"><input type="number"
										ng-model="activityinfo.nbrob" style="text-align: right; width: 80px;"></td>
									<td style="background-color: #fcf8e3; text-align: center;">
										<input type="number"
										ng-model="activityinfo.nbcases" style="text-align: right; width: 80px;"></td>
									<td style="background-color: #fcf8e3;text-align: right;width: 80px">({{activityinfo.nbrob*activityinfo.nbcases}})</td>										
									<td style="background-color: #fcf8e3; text-align: center;">
										<input type="number" ng-model="activityinfo.delaysleep" style="text-align: right; width: 80px;"></td>
									<td style="background-color: #fcf8e3; text-align: center;">
										<input type="number" ng-model="activityinfo.timesleep" style="text-align: right; width: 80px;"></td>
									<td style="background-color: #fcf8e3; text-align: center;; text-align: center">
										<table>
											<tr ng-repeat="input in activityinfo.inputs track by $index">
												<td>
													<input type="number" ng-model="input.percent" style="text-align: right; width: 80px;">%
												</td>
												<td>
													<table>
														<tr><td>
															<textarea ng-model="input.content"></textarea>
														</td></tr>
														<tr><td>
														<button ng-click="meteorctrl.proposeInput( activityinfo, input)" class="btn btn-default btn-xs" style="width: 100%;">Propose</button>
														</td></tr>
													</table>

												</td>
												<td>
													<button ng-click="meteorctrl.removeInput( activityinfo, input) " class="btn btn-danger btn-xs">Remove</button>
												</td>
											</tr>
										</table>
										<button ng-click="meteorctrl.addInput( activityinfo )" class="btn btn-info btn-xs">Add</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					
					<!-- end process -->

					<h3>
						<a href="#" ng-click="meteorctrl.showexperience = ! meteorctrl.showexperience" style="text-decoration:none">					
			  				<span ng-show="meteorctrl.showexperience" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
		  				</a>
						<a href="#" ng-click="meteorctrl.showexperience = ! meteorctrl.showexperience" style="text-decoration:none">					
							<span ng-show="! meteorctrl.showexperience" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
						</a>		
			  			Experience
					</h3>
					<div ng-show="meteorctrl.showexperience">
						Case Id<input ng-model="meteorctrl.experience.listCasesId"  placeholder="1000,1003,1005"> (multiple cases separate by a comma is accepted)
						<button ng-click="meteorctrl.collectExperience( 'addCasesId' )" class="btn btn-success" ng-disabled="meteorctrl.wait">Collect Experience</button>
								
						<div ng-bind-html="meteorctrl.getListEvents( meteorctrl.listeventsexperience )"></div>
											
						
						<!-- style="background-color: #f9f9f9;" -->
						<table class="table table-striped table-hover table-condensed">
							<tr>
								<th style="background-color: #f2dede; text-align: center;"></th>
								<th style="background-color: #f2dede; text-align: center;">Name</th>
								<th style="background-color: #f2dede; text-align: center;">Process</th>
								<th style="background-color: #f2dede; text-align: center;"><span title="number of robots ">Robots</span></th>
								<th style="background-color: #f2dede; text-align: center;"><span title="number of cases PER robots">Cases/rob</span></th>
								<th style="background-color: #f2dede; text-align: center;"><span ></span></th>
								<th style="background-color: #f2dede; text-align: center;"><span title="Time to sleep before the start">Delay start (ms)</span></th>
								<th style="background-color: #f2dede; text-align: center;"><span title="Time to sleep between each execution, in millisecond">sleep (ms)</span></th>

							</tr>
							<tbody ng-repeat="scenario in meteorctrl.experience.scenarii track by $index">
								<tr style="background-color: ##D9EDF7;border-width: 1px 1px" >
									<td style="background-color: #D9EDF7;border-width: 1px 1px"><span ><input type="checkbox" ng-model="scenario.showtimeline"></span></td>
									<td style="background-color: #D9EDF7;border-width: 1px 1px"><span title="Name"><input ng-model="scenario.name"></span></td>
								
									<td style="background-color: #D9EDF7;border-width: 1px 1px">
										<span title="Process name and version">{{scenario.processname}} ({{scenario.processversion}})</span></td>
									<td style="background-color: #D9EDF7;border-width: 1px 1px;text-align: center;">
										<input type="number" ng-model="scenario.nbrobs" style="text-align: right; width: 80px;"
										title="The number of robot simulate multiple create IN PARRALLELE because robots runs undependably"></td>
									<td style="background-color: #D9EDF7; text-align: center;">
										<input type="number" ng-model="scenario.nbcases" style="text-align: right; width: 80px;"	title="Attention, the number of case created will be Nb robots*nbCases"></td>
									<td style="background-color: #D9EDF7; text-align: right;width: 80px">({{scenario.nbrobs*scenario.nbcases}})</td>
									<td style="background-color: #D9EDF7; text-align: center">
										<input type="number" ng-model="scenario.delaysleep" style="text-align: right; width: 80px;" title="Before start, robots will sleep this time (in ms)"></td>
									<td style="background-color: #D9EDF7; text-align: center">
										<input type="number" ng-model="scenario.timesleep" style="text-align: right; width: 80px;" title="Between each execution, robots will sleep this time (in ms)"></td>
								</tr>
								<tr ng-if="scenario.showtimeline">
									<td colspan="4" style="background-color: #D9EDF7;">
									</td>
									<td colspan="4" style="background-color: #D9EDF7;">
										<textarea readonly cols="70" rows="5" ng-model="scenario.contract"></textarea>
									</td>
								</tr>
								<tr ng-repeat="timeline in scenario.timelines" ng-if="scenario.showtimeline">
									<td colspan="1">
									</td>	
									<td >{{timeline.actname}}</td>
									<td class="align-text:right">{{timeline.timeLineFromBeginningMS}} ({{timeline.timeLineMs}})</td>
									<td class="align-text:right">{{timeline.timewaitms}} ms</td>
									<td  colspan="4">
										<textarea readonly cols="70" rows="5" ng-model="timeline.contract"></textarea>
									</td>
								</tr>

								
							</tbody>
						</table>
					</div>
					


					<!-- 
					<h3>
						<a href="#" ng-click="meteorctrl.showscenarii = ! meteorctrl.showscenarii" style="text-decoration:none">					
			  				<span ng-show="meteorctrl.showscenarii" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
		  				</a>
						<a href="#" ng-click="meteorctrl.showscenarii = ! meteorctrl.showscenarii" style="text-decoration:none">					
							<span ng-show="! meteorctrl.showscenarii" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
						</a>		
			  			 Scenarii
					</h3>
					 
					<div ng-show="meteorctrl.showscenarii">
						<table class="table table-striped table-hover table-condensed">
							<tr>
								<th style="background-color: #f2dede;text-align: center;">Name</th>
								<th style="background-color: #f2dede;text-align: center;">Type</th>
								<th style="background-color: #f2dede;text-align: center;">Robots</th>
								<th style="background-color: #f2dede;text-align: center;">Exec/rob</th>
								<th style="background-color: #f2dede;text-align: center;">Text</th>
								<th style="background-color: #f2dede;text-align: center;"></th>
							</tr>
							<tbody ng-repeat="scenarioinfo in meteorctrl.scenarii track by $index">
								<tr>
									<td><input ng-model="scenarioinfo.name"></td>
									<td><select ng-model="scenarioinfo.type">
											<option value="GRV">Groovy</option>
											<option value="CMD">Command</option>
									</select></td>
									<td><input ng-model="scenarioinfo.nbrob" type="number" style="text-align: right; width: 80px;"></td>
									<td><input ng-model="scenarioinfo.nbexec" type="number" style="text-align: right; width: 80px;"></td>
									<td><textarea ng-model="scenarioinfo.scenario" rows="10" cols="80">  </textarea>
										<div ng-show="scenarioinfo.type=='CMD'">
											<br>
											 Append one verb:<br>
											<select ng-model="meteorctrl.scenarii.addsentence" style="width: 150px;" 
												ng-change="meteorctrl.appendsentence(scenarioinfo, meteorctrl.scenarii.addsentence)">
												<option ng-repeat="sentence in meteorctrl.configscenarii.cmd.sentences" value="{{sentence}}">{{sentence}}</option>
											</select>
											
										</div>
										<div ng-show="scenarioinfo.type=='GRV'">
											<br>
											 Append one line:<br>
											<select ng-model="meteorctrl.scenarii.addsentence" style="width: 150px;" 
												ng-change="meteorctrl.appendsentence(scenarioinfo, meteorctrl.scenarii.addsentence)">
												<option ng-repeat="sentence in meteorctrl.configscenarii.grv.sentences" value="{{sentence}}">{{sentence}}</option>
											</select>
											
										</div>

									</td>
									<td><button ng-click="meteorctrl.removeScenarii( scenarioinfo )" class="btn btn-danger">Remove</button></td>
								</tr>
							</tbody>
						</table>
						<center>
							<button ng-click="meteorctrl.addScenarii()" class="btn btn-info">Add</button>
						</center>
						
						
					</div> end meteorctrl.scenarii
					-->
					
					<!-- 
					<h3>
						<a href="#" ng-click="meteorctrl.showRestApi = ! meteorctrl.showRestApi" style="text-decoration:none">					
			  				<span ng-show="meteorctrl.showRestApi" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
		  				</a>
						<a href="#" ng-click="meteorctrl.showRestApi = ! meteorctrl.showRestApi" style="text-decoration:none">					
							<span ng-show="! meteorctrl.showRestApi" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
						</a>		
						 RestAPI</h3>
						 
						 <div ng-show="meteorctrl.showRestApi">
						 	This part is not yet implemented.
						</div>
				 	-->

				</div>

				<div class="panel panel-primary">
					<legend class="text-primary">
						<span class="glyphicon glyphicon-th"></span>Execution
					</legend>
					
					
					<div>
						<center>
							<button ng-click="meteorctrl.start()" class="btn btn-success" ng-disabled="meteorctrl.wait">Start</button>
						</center>
						
						<span ng-show="meteorctrl.wait"> 
							<span class="Loading">.</span> {{meteorctrl.operation}} in progress {{meteorctrl.listUrlPercent}}%...<br>
								<div class="progress">
										<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="{{meteorctrl.listUrlPercent}}" aria-valuemin="0" aria-valuemax="100" 
											style="width: {{meteorctrl.listUrlPercent}}%;"><span class="sr-only"></span>
										</div>
								</div>
						</span>	
						<br>
						<center>
							<div ng-bind-html="meteorctrl.getListEvents( meteorctrl.listeventsexecution )"></div>
						</center>

						<table class="table table-striped table-hover table-condensed">
							<tr>
								<th style="background-color: #99D9EA">Completion</th>
								<th style="background-color: #99D9EA">Robot</th>
								<th style="background-color: #99D9EA">State</th>
								<th style="background-color: #99D9EA">Nb errors</th>								
								<th style="background-color: #99D9EA">Advance</th>
								<th style="background-color: #99D9EA">Time(ms)</th>
								<th style="background-color: #99D9EA">Average(ms)</th>
							</tr>
							<tbody ng-repeat="robotinfo in meteorctrl.execution.robots track by $index">
								<tr> 
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">
										<div class="progress">
											<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{robotinfo.percent}}" aria-valuemin="0" aria-valuemax="100" 
												style="width: {{robotinfo.percentAdvance}}%;"><span class="sr-only">({{robotinfo.percentAdvance}}%)</span></div>
										</div>
										({{robotinfo.percentAdvance}}%)
									
									</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.title}}</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.status}}</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.nbErrors}}</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.adv}}</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.time}}</td>
									<td style="{{meteorctrl.getRobotStyle( robotinfo )}}">{{robotinfo.timeavg}}</td>
								</tr>
								<tr>
									<td></td>
									<td colspan="5">
									<a href="#" ng-click="robotinfo.showlog = ! robotinfo.showlog" style="text-decoration:none">					
			  							<span ng-show="robotinfo.showlog" class="glyphicon glyphicon-chevron-down" style="font-size: 10px;"></span>
		  							</a>
									<a href="#" ng-click="robotinfo.showlog = ! robotinfo.showlog" style="text-decoration:none">					
										<span ng-show="! robotinfo.showlog" class="glyphicon glyphicon-chevron-right"  style="font-size: 10px;"></span>
									</a>	
									<div ng-show="robotinfo.showlog">{{robotinfo.log}}</div>	
					
									</td>
								</tr>
							</tbody>
						</table>

						<div class="well">
							<table width="100%">
								<tr><td>
									<table class="table ">
										<tr>
											<td>Simulation Id</td>
											<td>{{meteorctrl.simulationid}}</td>
										</tr>
										<tr>
											<td>Status</td>
											<td>{{meteorctrl.execution.status}}</td>
										</tr>
										<tr>
											<td>Time started:</td>
											<td>{{meteorctrl.execution.timeStarted}}</td>
										</tr>
										<tr>
											<td>Delay to finish (estimation)</td>
											<td>{{meteorctrl.execution.timeEstimatedDelay}}</td>
										</tr>
										<tr>
											<td>Time end (estimation)</td>
											<td>{{meteorctrl.execution.timeEstimatedEnd}}</td>
										</tr>
										<tr>
											<td>Time end</td>
											<td>{{meteorctrl.execution.timeEnded}}</td>
										</tr>								
										<tr>
											<td>Percent global</td>
											<td>{{meteorctrl.execution.percentAdvance}}%</td>
										</tr>
									</table>
								</td>
								<td  style="text-align: right;vertical-align: top;width:450px;">
								<!--  all simulations -->
									<table style=" border: 2px solid black;width:400px;">
										<th style="background-color: #f2dede; text-align: center;" colspan="5">Simulations in progress</th>
										<tr ng-repeat="simulation in meteorctrl.execution.listSimulations track by $index">
											
											<td style="text-align: center;">{{simulation.id}}</td>
											<td style="text-align: right;">{{simulation.percentAdvance}}%</td>
											<td style="text-align: right;">{{simulation.timeEstimatedEnd}}</td>
											<td style="text-align: right;">{{simulation.timeEstimatedDelay}}</td>
											<td> <button ng-click="meteorctrl.simulationid=simulation.id;meteorctrl.refresh()" class="btn btn-info btn-xs" ng-disabled="meteorctrl.refreshinprogress">Display</button></td>
										</tr>
									</table>
								</td>
								</tr>
							</table>
							<center>
								<span class="Loading" ng-show="meteorctrl.refreshinprogress">.</span> <button ng-click="meteorctrl.refresh()" class="btn btn-success" ng-disabled="meteorctrl.refreshinprogress">Refresh</button>
							</center>
						</div>
							
						<h3>Cover</h3>
						This section give the percent of each running scenario
						<table class="table table-striped table-hover table-condensed" width="100%">
							<tr>
								<th>Process</th>
								<th>General cover</th>
								<th>Happy path cover</th>
								<th>Error</th>
								<th>Activities not covered</th>
							</tr>		
							<tr ng-repeat="processinfo in meteorctrl.execution.cover track by $index">
								<td>{{processinfo.processname}} ({{processinfo.processversion}})</td>
								<td>{{processinfo.coverpercent}} %</td>
								<td>{{processinfo.coverhappypathpercent}} %</td>
								<td><div ng-bind-html="meteorctrl.getListEvents( processinfo.listevents )"></div></td>
								<<td>{{processinfo.activitiesnotcovered}}</td>
								<td>
								<!-- 
								Chart: {{processinfo.piechart}}<br>
									<div google-chart chart="{{processinfo.piechart}}"  style="height: 400px; width: 100%; position: relative; "></div>
									<div google-chart chart="{{processinfo.columChart}}"  style="height: 400px; width: 100%; position: relative; "></div>
									
								 -->
								 </td>
							</tr>
						</table>
					
					</div>
				</div>

				
				
				
			</div> <!--  end controler -->
		</div> <!--  end col-xs-12 -->
	</div> <!-- class="container-fluid" -->


			<!-- Third party dependencies -->

	<script src="3rd-party/jquery.min.js"></script>

	<script src="3rd-party/angular.min.js"></script>

	<script src="3rd-party/angular-resource.min.js"></script>
	<script src="3rd-party/angular-cookies.min.js"></script>

	<script src="3rd-party/bootstrap/js/bootstrap.min.js"></script>
	<script src="3rd-party/angular-bootstrap-tpls.min.js"></script>
	<script src="3rd-party/angular-file-upload.js"></script>
	<script src="3rd-party/ng-google-chart.js"></script>
	<script src="3rd-party/angular-sanitize.min.js"></script>
	<script src="3rd-party/ng-modal.min.js"></script> 
	<script	src="js/angular-file-upload-shim.min.js"></script>
	<script	src="js/angular-file-upload.min.js"></script>


	<!-- Application dependencies -->
	<script src="meteormonitor.js?v=@_CURRENTTIMEMILIS_@"></script>
<!--			<script src="pageResource?page=custompage_meteor&location=meteormonitor.js&v=@_CURRENTTIMEMILIS_@"></script>  -->
</body>
</html>